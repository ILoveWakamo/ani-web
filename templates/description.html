{% extends "base.html" %}

{% block title %}
{{ anime.title }}
{% endblock %}

{% block content %}
<div class="anime-profile">

  <div class="anime-header">
    <div class="anime-thumbnail">
      <img src="{{ anime.thumbnail_url }}" alt="{{ anime.title }} poster">
      <button class="episode-tile" id="description-watchlist-btn" data-anime='{{ anime.id}}' title="Add to watchlist">Add to watchlist</button>
    </div>

    <div class="anime-info">
      <h1>{{ anime.title }}</h1>

      <p class="anime-synopsis">
        {{ anime.synopsis | safe }}
      </p>

      <div class="anime-meta">
        <div><strong>Episodes:</strong> {{ anime.episodes }}</div>
      </div>
    </div>
  </div>
  <div class="episode-box">
  <h2>Episodes</h2>

  <div class="episode-grid">
    {% for ep in range(1, anime.episodes + 1) %}
      <a
          href="{{ url_for('play', anime_id=anime.id) }}?episode={{ ep }}&total={{ anime.episodes }}&mode={{ mode }}"
        class="episode-tile"
      >
        EP {{ ep }}
      </a>
    {% endfor %}
  </div>
</div>

</div>
{% endblock %}
